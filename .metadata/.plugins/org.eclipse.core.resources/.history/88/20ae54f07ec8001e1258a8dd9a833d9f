import io.restassured.RestAssured;
import io.restassured.path.json.JsonPath;

import static io.restassured.RestAssured.*;

import java.util.HashMap;
import java.util.Map;
public class DatadrivenDemo {
public static void main(String[] args) {
	Map<String, Object>  jsonAsMap = new HashMap<>();
	jsonAsMap.put("name", "Learn Appium Automation with Java");
	jsonAsMap.put("isbn", "bcdd");
	jsonAsMap.put("aisle", "44354841e");
	jsonAsMap.put("author", "Raviteja");
	
	RestAssured.baseURI="https://rahulshettyacademy.com";
	String response = given().log().all().header("Content-Type","application/json")
	.body("{\r\n"
			+ "\"name\":\"Learn Appium Automation with Java\",\r\n"
			+ "\"isbn\":\"bcdd\",\r\n"
			+ "\"aisle\":\"292654e\",\r\n"
			+ "\"author\":\"Raviteja\"\r\n"
			+ "}\r\n"
			+ "")
	.when().post("/Library/Addbook.php")
	.then().log().all().assertThat().statusCode(200).extract().asString();
	JsonPath js=new JsonPath(response);
	String id=js.getString("ID");
	System.out.println(id);
	
}
}
